<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>starry sky</title>
<style type="text/css">
html,body,div,p,dl,dt,dd,ul,ol,li,table,tr,td,th,form,hr,h1,h2,h3,h4,h5,h6,img,input,fieldset{
	margin:0;
	padding:0;
}
body{
	background-color:black;
}
h1{
	margin-top:100px;
	margin-bottom:50px;
	margin-left:200px;
	font-size:48px;
	color:red;
	text-shadow:30px 20px 10px pink,-20px -30px 10px purple;
}
a{
	/*margin-top:0px;*/
	margin-left:200px;
	font-size:42px;
	color:#acc;
	text-decoration:none;
	border:1px dashed gray;
}
</style>
</head>
<body>
	<h1>欢迎来到恋尚网----专属你的空间哦！！！</h1>
	<h1>等你好久了...</h1>
	<a href="register.html">注册</a>
	<a href="login.html">登录</a>
</body>
</html>
<script type="text/javascript">
function $(str){
	if(str.charAt(0)=="#"){
		return document.getElementById(str.substring(1));
	}else if(str.charAt(0)=="@"){
		return document.getElementsByName(str.substring(1));
	}
}

function $create(str){
	return document.createElement(str);
}

window.onload = function(){
		
		let glowworms = [];
		for (var i = 0; i < 30; i++) {
				glowworms.push(new Glowworm());
			}

		for (var i in glowworms) {
			glowworms[i].initUI();
            glowworms[i].start();
		}
};



function Glowworm(){

	let that = this;
	let clientWidth = document.documentElement.clientWidth || document.body.clientWidth;

	let clientHeight = document.documentElement.clientHeight || document.body.clientHeight;

	this.color = "";
	this.width = Math.random()*30;
	this.width = this.width<=5?5:this.width;
	this.height = this.width;
	this.shadow = this.width/0.9;
	this.inc = Math.random()*0.1;
	this.direction = Math.pow(-1,parseInt(Math.random()*10));
	this.moveDirectionH = Math.pow(-1,parseInt(Math.random()*10));
	this.moveDirectionV = Math.pow(-1,parseInt(Math.random()*10));
	this.top1 = Math.random()*clientHeight;
	this.left1 = Math.random()*clientWidth;
	this.domObj = null;
	this.opacity1 = 1;
	
	this.initUI=function(){
		this.domObj = $create("div");
		this.getColor();
		console.log(this.left1);
		let cssStr = "position:absolute;border-radius:50%;box-shadow:0 0 "+this.shadow+"px "+this.shadow+"px "+this.color+";opacity:"+this.opacity1+";";

		cssStr+="width:"+this.width+"px;height:"+this.height+"px;background-color:"+this.color+";left:"+this.left1+"px;top:"+this.top1+"px;";

		this.domObj.style.cssText = cssStr;
		document.body.appendChild(this.domObj);
	};
	
	
	this.getColor=function(){
		
		let redColor = parseInt(Math.random()*256).toString(16);
		redColor = ("0"+redColor).slice(-2);

		let blueColor = parseInt(Math.random()*256).toString(16);
		blueColor = ("0"+blueColor).slice(-2);

		let greenColor = parseInt(Math.random()*256).toString(16);
		greenColor = ("0"+greenColor).slice(-2);

		this.color = "#"+redColor+blueColor+greenColor;

		if(this.color.toLowerCase()=="#000000"){
			this.color="yellow";
			}
	};


	this.start=function(){
		setInterval(function(){
			that.gostep();
		},30)
	};


	
	this.gostep=function(){
		
		
		this.opacity1 = this.opacity1+this.direction*this.inc;
		this.top1 = this.top1+this.moveDirectionV*Math.random()*3;
		this.left1 = this.left1+this.moveDirectionH*Math.random()*5;
		
		
		let scrollTop =document.documentElement.scrollTop || document.body.scrollTop;
		let scrollLeft =document.documentElement.scrollLeft || document.body.scrollLeft;
		
		//边界处理
		if(this.opacity1<=0){
			this.opacity = 0;
			this.direction = 1;
			this.moveDirectionH = Math.pow(-1,parseInt(Math.random()*10));
			this.moveDirectionV = Math.pow(-1,parseInt(Math.random()*10));
			this.width = Math.random()*30;
			this.width = this.width<=5?5:this.width;
			this.height = this.width;
			this.shadow = this.width/0.9;
			this.inc = Math.random()*0.1;
			this.getColor();
		}else if(this.opacity1>=1){
			this.opacity = 1;
			this.direction = -1;
		}
		
		if(this.left1<(0+scrollLeft)){
			this.left1=clientWidth-this.width+scrollLeft;
		}else if(this.left1>(clientWidth-this.width+scrollLeft)){
			this.left1=0+scrollLeft;
		}

		if(this.top1<(0+scrollTop)){
			this.top1=clientHeight-this.height+scrollTop;
		}else if(this.top1>(clientHeight-this.height+scrollTop)){
			this.top1=0+scrollTop;
		}
		
		this.domObj.style.opacity = this.opacity1;
		this.domObj.style.left = this.left1+"px";
		this.domObj.style.top = this.top1+"px";
		this.domObj.style.width = this.width+"px";
		this.domObj.style.height = this.height+"px";
		this.domObj.style.boxShadow = "0 0 "+this.shadow+"px "+this.shadow+"px "+this.color;
		this.domObj.style.backgroundColor = this.color;
	}
}
</script>